[["edge-encroachment-1.html", "Part 16 Edge Encroachment 16.1 Set Up 16.2 LEI 16.3 Distances 16.4 Landscape Metrics", " Part 16 Edge Encroachment 16.1 Set Up 16.1.1 Import Libraries library(sf) library(terra) library(mapview) library(raster) library(tidyverse) library(ggplot2) library(cowplot) # import high-severity patches patches_df &lt;- st_read(&quot;data/patches/highsev_patches.shp&quot;) %&gt;% mutate(Patch_ID = str_c(Fire_ID,&quot;-&quot;,1:n())) %&gt;% st_transform(crs = &quot;EPSG:4326&quot;) %&gt;% st_drop_geometry() ## Reading layer `highsev_patches&#39; from data source ## `G:\\Other computers\\My Laptop\\Documents\\Grad School\\Research\\ConiferRegeneration\\data\\patches\\highsev_patches.shp&#39; ## using driver `ESRI Shapefile&#39; ## Simple feature collection with 5904 features and 10 fields ## Geometry type: POLYGON ## Dimension: XY ## Bounding box: xmin: -118.6156 ymin: 42.57637 xmax: -106.96 ymax: 48.92836 ## Geodetic CRS: WGS 84 types &lt;- c(&quot;Douglas-Fir&quot;,&quot;Fir-Spruce&quot;,&quot;Lodegepole Pine&quot;) # large_patch_df &lt;- patches_df %&gt;% # filter(ptch_r_ &gt;100, # ptch_fr %in% types) dist_df &lt;- do.call(rbind,lapply(list.files(path = &quot;data/edge_distance&quot;, pattern = &quot;Fire&quot;, all.files=TRUE, full.names=TRUE),read_csv)) lei_df &lt;- do.call(rbind,lapply(list.files(path = &quot;data/lei&quot;, pattern = &quot;Fire&quot;, all.files=TRUE, full.names=TRUE),read_csv)) lei_simple_df &lt;-do.call(rbind,lapply(list.files(path = &quot;data/lei_simple&quot;, pattern = &quot;Fire&quot;, all.files=TRUE, full.names=TRUE),read_csv)) lsm_df &lt;- do.call(rbind,lapply(list.files(path = &quot;data/lsm&quot;, pattern = &quot;Fire&quot;, all.files=TRUE, full.names=TRUE),read_csv)) 16.2 LEI lei_summary &lt;- lei_df %&gt;% group_by(lei_category,ptch_fr,timepoint) %&gt;% summarize(n=n(), area=sum(newgrowth_area_ha)) %&gt;% filter(ptch_fr %in% c(&quot;Douglas-Fir&quot;,&quot;Fir-Spruce&quot;,&quot;Lodegepole Pine&quot;)) ## `summarise()` has grouped output by &#39;lei_category&#39;, &#39;ptch_fr&#39;. You can override ## using the `.groups` argument. ggplot(lei_summary,aes(timepoint,area,color= lei_category,group=lei_category))+ geom_line()+ facet_wrap(~ptch_fr)+ labs(title = &quot;Area of New Growth for Each Expansion Type&quot;) lei_simple_summary &lt;- lei_simple_df %&gt;% left_join(patches_df) %&gt;% filter(ptch_fr %in% c(&quot;Douglas-Fir&quot;,&quot;Fir-Spruce&quot;,&quot;Lodegepole Pine&quot;)) ## Joining, by = &quot;Patch_ID&quot; # ggplot(lei_simple_summary,aes(timepoint,lei,color = ptch_fr,group=Patch_ID)) + # geom_line() + # labs(title = &quot;Area of New Growth for Each Expansion Type&quot;) lei_simple_summary2 &lt;- lei_simple_df %&gt;% left_join(patches_df)%&gt;% group_by(ptch_fr,timepoint) %&gt;% summarize(lei=mean(lei))%&gt;% filter(ptch_fr %in% c(&quot;Douglas-Fir&quot;,&quot;Fir-Spruce&quot;,&quot;Lodegepole Pine&quot;)) ## Joining, by = &quot;Patch_ID&quot; ## `summarise()` has grouped output by &#39;ptch_fr&#39;. You can override using the ## `.groups` argument. ggplot(lei_simple_summary2,aes(timepoint,lei,color = ptch_fr,group=ptch_fr)) + geom_line()+ labs(title = &quot;LEI Over Time for Each Forest Type&quot;) 16.3 Distances 16.3.1 Of All Growth types &lt;- c(&quot;Lodegepole Pine&quot;,&quot;Douglas-Fir&quot;,&quot;Fir-Spruce&quot;) dist_summary_all &lt;- dist_df %&gt;% filter(growth_type==&quot;all growth&quot;) %&gt;% left_join(.,patches_df,by=&quot;Patch_ID&quot;) %&gt;% filter( ptch_fr %in% types) %&gt;% group_by(ptch_fr,timepoint,edge_dist_m) %&gt;% summarize(count = sum(count)) # ggplot(dist_summary_all,aes(edge_dist_m,weight=count,fill=ptch_fr))+ # geom_histogram(bins =6,position =&quot;dodge&quot;)+ # facet_wrap(~timepoint) + # labs(title = &quot;Distance of Growth from Patch Edge&quot;) plot1 &lt;- ggplot(dist_summary_all %&gt;% filter(ptch_fr==&quot;Lodegepole Pine&quot;),aes(edge_dist_m,weight=count))+ geom_histogram(bins =17)+ facet_grid(~timepoint) + theme(axis.text.x = element_text(angle = 90)) plot2 &lt;- ggplot(dist_summary_all %&gt;% filter(ptch_fr==&quot;Douglas-Fir&quot;),aes(edge_dist_m,weight=count))+ geom_histogram(bins =17)+ facet_grid(~timepoint) + theme(axis.text.x = element_text(angle = 90)) plot3 &lt;- ggplot(dist_summary_all %&gt;% filter(ptch_fr==&quot;Fir-Spruce&quot;),aes(edge_dist_m,weight=count))+ geom_histogram(bins =17)+ facet_grid(~timepoint) + theme(axis.text.x = element_text(angle = 90)) plot_grid(plot1,plot2,plot3,labels=types,ncol=1) 16.3.2 Of New Growth dist_summary_new &lt;- dist_df %&gt;% filter(growth_type==&quot;new growth&quot;) %&gt;% left_join(.,patches_df,by=&quot;Patch_ID&quot;) %&gt;% filter( ptch_fr %in% types) %&gt;% group_by(ptch_fr,timepoint,edge_dist_m) %&gt;% summarize(count = sum(count)) # ggplot(dist_summary_new,aes(edge_dist_m,weight=count,fill=ptch_fr))+ # geom_histogram(bins =6,position =&quot;dodge&quot;)+ # facet_wrap(~timepoint)+ # labs(title = &quot;Distance of New Growth from Patch Edge&quot;) plot1 &lt;- ggplot(dist_summary_new %&gt;% filter(ptch_fr==&quot;Lodegepole Pine&quot;),aes(edge_dist_m,weight=count))+ geom_histogram(bins =17)+ facet_grid(~timepoint) + theme(axis.text.x = element_text(angle = 90)) plot2 &lt;- ggplot(dist_summary_new %&gt;% filter(ptch_fr==&quot;Douglas-Fir&quot;),aes(edge_dist_m,weight=count))+ geom_histogram(bins =17)+ facet_grid(~timepoint) + theme(axis.text.x = element_text(angle = 90)) plot3 &lt;- ggplot(dist_summary_new %&gt;% filter(ptch_fr==&quot;Fir-Spruce&quot;),aes(edge_dist_m,weight=count))+ geom_histogram(bins =17)+ facet_grid(~timepoint) + theme(axis.text.x = element_text(angle = 90)) plot_grid(plot1,plot2,plot3,labels=types,ncol=1) 16.4 Landscape Metrics lsm_summary_nn &lt;- lsm_df %&gt;% filter(metric == &quot;enn_mn&quot;, ptch_fr %in% types, timepoint != &quot;t0&quot;) %&gt;% group_by(ptch_fr,timepoint) %&gt;% summarize(nn= mean(value,na.rm=TRUE)) ## `summarise()` has grouped output by &#39;ptch_fr&#39;. You can override using the ## `.groups` argument. ggplot(lsm_summary_nn,aes(timepoint,nn,color = ptch_fr,group=ptch_fr))+ geom_line()+ labs(title = &quot;Nearest Neighbor Distances of Conifer Regrowth&quot;) lsm_summary_pland &lt;- lsm_df %&gt;% filter(metric == &quot;pland&quot;, ptch_fr %in% types, timepoint != &quot;t0&quot;) %&gt;% group_by(ptch_fr,timepoint) %&gt;% summarize(pland= mean(value,na.rm=TRUE)) ## `summarise()` has grouped output by &#39;ptch_fr&#39;. You can override using the ## `.groups` argument. ggplot(lsm_summary_pland,aes(timepoint,pland,color = ptch_fr,group=ptch_fr))+ geom_line() + labs(title = &quot;Percent of Land Area Occupied by Conifers&quot;) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
